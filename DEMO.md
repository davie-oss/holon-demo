# Holon ä½¿ç”¨æ¼”ç¤º

## é¡¹ç›®èƒŒæ™¯

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ Go è®¡ç®—å™¨é¡¹ç›®ï¼ŒåŒ…å«ä¸€ä¸ª **æ•…æ„è®¾ç½®çš„ bug**ï¼š

```go
// Multiply ä¹˜æ³• - è¿™é‡Œæœ‰ bug
func (c *Calculator) Multiply(a, b int) int {
    return a + b // BUG: åº”è¯¥æ˜¯ a * b
}
```

æµ‹è¯•ä¼šå¤±è´¥ï¼š
```
Multiply(3, 4) = 7; want 12
```

---

## è¿è¡Œ Holon

### å‰ç½®æ¡ä»¶

```bash
# 1. å®‰è£… Holon (macOS)
brew install holon-run/tap/holon

# æˆ–ä¸‹è½½ Release
# https://github.com/holon-run/holon/releases

# 2. è®¾ç½®å‡­è¯
export ANTHROPIC_AUTH_TOKEN="sk-ant-..."
export GITHUB_TOKEN="ghp_..."  # å¯é€‰ï¼Œç”¨äºåˆ›å»º PR

# 3. ç¡®ä¿ Docker è¿è¡Œ
docker info
```

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Spec æ–‡ä»¶è¿è¡Œ

```bash
cd demo-project

# è¿è¡Œ Holon
holon run \
  --spec holon-spec.yaml \
  --image golang:1.22 \
  --workspace . \
  --output ./holon-output
```

**æ‰§è¡Œè¿‡ç¨‹ï¼š**
```
1. ğŸ“¥ å‡†å¤‡å·¥ä½œåŒº
   - æŒ‚è½½å½“å‰ç›®å½•åˆ°å®¹å™¨
   - è‡ªåŠ¨æ£€æµ‹ Go é¡¹ç›®ï¼Œä½¿ç”¨ golang:1.22 é•œåƒ

2. ğŸ¤– AI åˆ†æ
   - è¯»å– holon-spec.yaml ç†è§£ä»»åŠ¡
   - åˆ†æ main.go å’Œ main_test.go
   - è¯†åˆ« Multiply å‡½æ•°çš„ bug

3. âœï¸ ä»£ç ä¿®æ”¹
   - ä¿®å¤ Multiply: a + b â†’ a * b

4. âœ… éªŒè¯
   - è¿è¡Œ go test ./...
   - ç¡®è®¤æ‰€æœ‰æµ‹è¯•é€šè¿‡

5. ğŸ“¦ äº§å‡ºå·¥ä»¶
   - diff.patch
   - summary.md
   - manifest.json
```

### æ–¹å¼äºŒï¼šä½¿ç”¨ Goal å‚æ•°è¿è¡Œ

```bash
holon run \
  --goal "ä¿®å¤ main.go ä¸­ Multiply å‡½æ•°çš„ bugï¼Œç¡®ä¿æµ‹è¯•é€šè¿‡" \
  --image golang:1.22 \
  --workspace . \
  --output ./holon-output
```

### æ–¹å¼ä¸‰ï¼šé’ˆå¯¹ GitHub Issue è¿è¡Œ

```bash
# å‡è®¾ä½ åœ¨ GitHub ä¸Šæœ‰ä¸€ä¸ª Issue #42 æè¿°äº†è¿™ä¸ª bug
holon solve https://github.com/yourname/demo-project/issues/42

# æˆ–è€…ç®€å†™
holon solve yourname/demo-project#42
```

**Holon ä¼šè‡ªåŠ¨ï¼š**
1. è¯»å– Issue å†…å®¹
2. å…‹éš†ä»“åº“
3. AI åˆ†æå¹¶ä¿®å¤
4. åˆ›å»ºåˆ†æ”¯ã€æäº¤ä»£ç 
5. åˆ›å»º Pull Request

---

## é¢„æœŸè¾“å‡º

### holon-output/diff.patch

```diff
--- a/main.go
+++ b/main.go
@@ -18,7 +18,7 @@ func (c *Calculator) Subtract(a, b int) int {
 }

 // Multiply ä¹˜æ³• - è¿™é‡Œæœ‰ bug
 func (c *Calculator) Multiply(a, b int) int {
-    return a + b // BUG: åº”è¯¥æ˜¯ a * b
+    return a * b
 }

 // Divide é™¤æ³•
```

### holon-output/summary.md

```markdown
# ä¿®å¤ Multiply å‡½æ•° Bug

## é—®é¢˜
Calculator.Multiply æ–¹æ³•é”™è¯¯åœ°ä½¿ç”¨äº†åŠ æ³•è¿ç®—ç¬¦ï¼Œå¯¼è‡´ä¹˜æ³•ç»“æœä¸æ­£ç¡®ã€‚

## ä¿®å¤
å°† `return a + b` æ”¹ä¸º `return a * b`

## éªŒè¯
- è¿è¡Œ `go test ./...` å…¨éƒ¨é€šè¿‡
- Multiply(3, 4) ç°åœ¨æ­£ç¡®è¿”å› 12

## æ–‡ä»¶å˜æ›´
- main.go: ç¬¬ 21 è¡Œ
```

### holon-output/manifest.json

```json
{
  "apiVersion": "holon.run/v1",
  "kind": "HolonManifest",
  "metadata": {
    "name": "fix-multiply-bug",
    "createdAt": "2026-02-17T01:10:00Z",
    "duration": "45s"
  },
  "spec": {
    "goal": "ä¿®å¤ main.go ä¸­ Multiply å‡½æ•°çš„ bug",
    "workspace": "/workspace",
    "baseImage": "golang:1.22"
  },
  "status": {
    "phase": "Succeeded",
    "artifacts": [
      "diff.patch",
      "summary.md"
    ]
  }
}
```

---

## åº”ç”¨ä¿®å¤

```bash
# æ–¹å¼ 1: ä½¿ç”¨ git apply
cd demo-project
git apply holon-output/diff.patch

# æ–¹å¼ 2: æ‰‹åŠ¨æŸ¥çœ‹å¹¶åº”ç”¨
cat holon-output/diff.patch

# éªŒè¯ä¿®å¤
go test -v
# === RUN   TestMultiply
# --- PASS: TestMultiply (0.00s)
# PASS
```

---

## GitHub Actions é›†æˆ

åœ¨ä½ çš„ä»“åº“æ·»åŠ  `.github/workflows/holon.yml`ï¼š

```yaml
name: Holon Auto-Fix

on:
  issues:
    types: [labeled]

jobs:
  holon:
    if: github.event.label.name == 'autofix'
    uses: holon-run/holon/.github/workflows/holon-solve.yml@main
    with:
      issue_number: ${{ github.event.issue.number }}
    secrets:
      anthropic_auth_token: ${{ secrets.ANTHROPIC_AUTH_TOKEN }}
```

**ä½¿ç”¨æ–¹å¼ï¼š**
1. åˆ›å»º Issue æè¿° bug
2. ç»™ Issue æ‰“ä¸Š `autofix` æ ‡ç­¾
3. Holon è‡ªåŠ¨è¿è¡Œï¼Œåˆ›å»º PR

---

## å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Holon å·¥ä½œæµç¨‹                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   ç”¨æˆ·è¾“å…¥                      Holon å¤„ç†                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Issue   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚ 1. è·å–ä¸Šä¸‹æ–‡            â”‚  â”‚
â”‚   â”‚ æˆ– Goal â”‚                  â”‚ 2. å¯åŠ¨ Docker å®¹å™¨      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ 3. è¿è¡Œ Claude Code      â”‚  â”‚
â”‚                                â”‚ 4. AI åˆ†æ & ä¿®æ”¹ä»£ç     â”‚  â”‚
â”‚                                â”‚ 5. è¿è¡Œæµ‹è¯•éªŒè¯          â”‚  â”‚
â”‚                                â”‚ 6. äº§å‡ºæ ‡å‡†å·¥ä»¶          â”‚  â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                            â”‚                â”‚
â”‚   è¾“å‡ºäº§ç‰©                                  â–¼                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ holon-output/                                       â”‚   â”‚
â”‚   â”‚ â”œâ”€â”€ diff.patch      (ä»£ç å˜æ›´)                      â”‚   â”‚
â”‚   â”‚ â”œâ”€â”€ summary.md      (æ‰§è¡Œæ‘˜è¦)                      â”‚   â”‚
â”‚   â”‚ â””â”€â”€ manifest.json   (å…ƒæ•°æ®)                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚                â”‚
â”‚                                            â–¼                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ åç»­æ“ä½œ                                             â”‚   â”‚
â”‚   â”‚ â€¢ git apply diff.patch  (æœ¬åœ°åº”ç”¨)                  â”‚   â”‚
â”‚   â”‚ â€¢ åˆ›å»º PR              (CI é›†æˆ)                    â”‚   â”‚
â”‚   â”‚ â€¢ äººå·¥å®¡æŸ¥              (å®‰å…¨å®¡è®¡)                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
